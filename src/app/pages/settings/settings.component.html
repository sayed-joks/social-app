<main class="w-[85%] mx-auto grid gap-8">
  <section>
    <div>
      <h1 class="text-4xl font-bold dark:text-white">Theme</h1>
      <ul class="ps-4 flex flex-col gap-3 mt-5">
        <li>
          <div class="flex">
            <input
              (click)="defaultMode()"
              [checked]="check == 'default'"
              type="radio"
              name="hs-default-radio"
              class="shrink-0 mt-0.5 w-[20px] h-[20px] border-gray-200 rounded-full text-blue-600 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-100 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"
              id="hs-default-radio1"
              value="Default"
            />
            <label
              for="hs-default-radio1"
              class="text-sm text-gray-500 ms-2 dark:text-neutral-400"
              >Default</label
            >
          </div>
        </li>
        <li>
          <div class="flex">
            <input
              (click)="darkMode()"
              [checked]="check == 'dark'"
              type="radio"
              name="hs-default-radio"
              class="shrink-0 mt-0.5 border-gray-200 rounded-full text-blue-600 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-100 w-[20px] h-[20px] dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"
              id="hs-default-radio2"
              value="dark"
            />
            <label
              for="hs-default-radio2"
              class="text-sm text-gray-500 ms-2 dark:text-neutral-400"
              >Dark Mode</label
            >
          </div>
        </li>
        <li>
          <div class="flex">
            <input
              (click)="lightMode()"
              [checked]="check == 'light'"
              type="radio"
              name="hs-default-radio"
              class="shrink-0 mt-0.5 border-gray-200 rounded-full text-blue-600 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-100 w-[20px] h-[20px] dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"
              id="hs-default-radio3"
              value="light"
            />
            <label
              for="hs-default-radio3"
              class="text-sm text-gray-500 ms-2 dark:text-neutral-400"
              >Light Mode</label
            >
          </div>
        </li>
      </ul>
    </div>
    <div></div>
  </section>
  <section>
    <h1 class="text-4xl font-bold dark:text-white">Change Password</h1>
    <form
      class="mt-6 rounded-lg"
      [formGroup]="changePasswordForm"
      (ngSubmit)="change()"
    >
      @if (changePasswordForm.get('newPassword')?.touched &&
      changePasswordForm.get('newPassword')?.invalid) {
      <div
        class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 mt-4"
        role="alert"
      >
        <div>
          <ul class="mt-1.5 list-disc list-inside">
            <li class="text-danger">{{ passwordErrorMessage }}</li>
          </ul>
        </div>
      </div>
      } @if ( errorMsg ) {
      <div
        class="flex items-center p-4 my-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"
        role="alert"
      >
        <svg
          class="shrink-0 inline w-4 h-4 me-3"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
          />
        </svg>
        <span class="sr-only">Info</span>
        <div>
          <span class="font-medium">{{ errorMsg }}</span>
        </div>
      </div>
      }
      <div class="w-full p-4 bg-white dark:bg-neutral-800">
        <label
          for="hs-toggle-password1"
          class="block text-sm mb-2 dark:text-white"
          >Old Password</label
        >
        <div class="relative">
          <input
            formControlName="password"
            id="hs-toggle-password1"
            type="password"
            class="py-2.5 sm:py-3 px-4 block w-full border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"
          />
          <button
            type="button"
            data-hs-toggle-password='{
      "target": "#hs-toggle-password1"
    }'
            class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-hidden focus:text-blue-600 dark:text-neutral-600 dark:focus:text-blue-500"
          >
            <svg
              class="shrink-0 size-3.5"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                class="hs-password-active:hidden"
                d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
              ></path>
              <path
                class="hs-password-active:hidden"
                d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
              ></path>
              <path
                class="hs-password-active:hidden"
                d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
              ></path>
              <line
                class="hs-password-active:hidden"
                x1="2"
                x2="22"
                y1="2"
                y2="22"
              ></line>
              <path
                class="hidden hs-password-active:block"
                d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
              ></path>
              <circle
                class="hidden hs-password-active:block"
                cx="12"
                cy="12"
                r="3"
              ></circle>
            </svg>
          </button>
        </div>
        <p class="hidden text-xs text-red-600 mt-2" id="password-error">
          8+ characters required
        </p>
      </div>
      <div class="w-full p-4 bg-white dark:bg-neutral-800">
        <label
          for="hs-toggle-password"
          class="block text-sm mb-2 dark:text-white"
          >New Password</label
        >
        <div class="relative">
          <input
            formControlName="newPassword"
            id="hs-toggle-password"
            type="password"
            class="py-2.5 sm:py-3 px-4 block w-full border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"
          />
          <button
            type="button"
            data-hs-toggle-password='{
      "target": "#hs-toggle-password"
    }'
            class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-gray-400 rounded-e-md focus:outline-hidden focus:text-blue-600 dark:text-neutral-600 dark:focus:text-blue-500"
          >
            <svg
              class="shrink-0 size-3.5"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                class="hs-password-active:hidden"
                d="M9.88 9.88a3 3 0 1 0 4.24 4.24"
              ></path>
              <path
                class="hs-password-active:hidden"
                d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"
              ></path>
              <path
                class="hs-password-active:hidden"
                d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"
              ></path>
              <line
                class="hs-password-active:hidden"
                x1="2"
                x2="22"
                y1="2"
                y2="22"
              ></line>
              <path
                class="hidden hs-password-active:block"
                d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"
              ></path>
              <circle
                class="hidden hs-password-active:block"
                cx="12"
                cy="12"
                r="3"
              ></circle>
            </svg>
          </button>
        </div>
        <p class="hidden text-xs text-red-600 mt-2" id="password-error">
          8+ characters required
        </p>
      </div>
      <div class="mt-6">
        <button
          [disabled]="changePasswordForm.invalid || isLoading"
          [attr.aria-busy]="isLoading ? true : null"
          class="w-full flex justify-center items-center gap-4 px-6 py-3 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-500 rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"
        >
          Change Password @if(isLoading){
          <span
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <circle cx="4" cy="12" r="3" fill="currentColor">
                <animate
                  id="svgSpinners3DotsFade0"
                  fill="freeze"
                  attributeName="opacity"
                  begin="0;svgSpinners3DotsFade1.end-0.25s"
                  dur="0.75s"
                  values="1;0.2"
                />
              </circle>
              <circle cx="12" cy="12" r="3" fill="currentColor" opacity="0.4">
                <animate
                  fill="freeze"
                  attributeName="opacity"
                  begin="svgSpinners3DotsFade0.begin+0.15s"
                  dur="0.75s"
                  values="1;0.2"
                />
              </circle>
              <circle cx="20" cy="12" r="3" fill="currentColor" opacity="0.3">
                <animate
                  id="svgSpinners3DotsFade1"
                  fill="freeze"
                  attributeName="opacity"
                  begin="svgSpinners3DotsFade0.begin+0.3s"
                  dur="0.75s"
                  values="1;0.2"
                />
              </circle></svg
          ></span>
          }
        </button>
      </div>
    </form>
  </section>
</main>
